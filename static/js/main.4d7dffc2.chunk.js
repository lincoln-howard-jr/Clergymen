(this.webpackJsonpclergymen=this.webpackJsonpclergymen||[]).push([[0],{24:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),a=n(19),s=n.n(a),i=(n(24),n(3)),o=n.p+"static/media/pause.f4fa2300.svg",u=n.p+"static/media/play.c0a9fbaf.svg",l=n(0),j=function(e){return"".concat(Math.floor(e/60),":").concat(("00"+Math.floor(e%60)).slice(-2))},d=function(e){var t=e.src,n=e.playing,c=e.title,a=e.togglePlay,s=e.photo,d=Object(r.useState)("0%"),p=Object(i.a)(d,2),h=p[0],b=p[1],f=Object(r.useState)(0),O=Object(i.a)(f,2),x=O[0],m=O[1],g=Object(r.useState)(0),v=Object(i.a)(g,2),y=v[0],w=v[1],C=Object(r.useState)(!1),N=Object(i.a)(C,2),k=N[0],P=N[1],S=Object(r.useRef)();return Object(r.useEffect)((function(){n?S.current.play():S.current.pause()}),[n]),Object(l.jsxs)("footer",{id:"audio-player",className:k?"open":"",children:[Object(l.jsxs)("section",{className:"audio-player-container-small",children:[Object(l.jsx)("span",{onClick:function(){return P(!k)},className:"audio-player-small-image",children:Object(l.jsx)("img",{src:s})}),Object(l.jsxs)("section",{className:"audio-player-small-time",children:[Object(l.jsxs)("span",{children:[j(x),"/",j(y)]}),Object(l.jsx)("span",{onClick:a,className:"small-toggle-play",children:Object(l.jsx)("img",{src:n?o:u})})]})]}),Object(l.jsxs)("section",{className:"audio-player-container",children:[Object(l.jsxs)("section",{className:"audio-player-time",children:[j(x)," / ",j(y)]}),Object(l.jsx)("section",{className:"audio-player-title",children:c}),Object(l.jsxs)("section",{onClick:a,className:"audio-player-image",children:[Object(l.jsx)("img",{src:s}),Object(l.jsx)("img",{src:n?o:u})]}),Object(l.jsx)("section",{style:{width:h},className:"progress"})]}),Object(l.jsx)("audio",{onTimeUpdate:function(e){b("".concat(S.current.currentTime/S.current.duration*100,"%")),m(S.current.currentTime),w(S.current.duration)},ref:S,src:t,autoPlay:!0})]})};function p(e){var t=e.children,n=e.short;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:t}),Object(l.jsx)("h1",{className:"short",children:n||t})]})}function h(e){var t=e.children,n=e.short;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:t}),Object(l.jsx)("h2",{className:"short",children:n||t})]})}function b(e){var t=e.children,n=e.short;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h3",{children:t}),Object(l.jsx)("h3",{className:"short",children:n||t})]})}var f=n(1),O=n.n(f),x=n(4),m={UserPoolId:"us-east-1_UW4qNlUmI",ClientId:"5kurv3o1l70p414j83ka7i16sc",IdentityPoolId:"us-east-1:2cc114d3-6d89-4f65-b6e5-0b2902209f61"},g=n(7);new g.d(m);var v=null,y={get get(){return new Headers({"x-amz-access-token":v})},get post(){return new Headers({"x-amz-access-token":v,"Content-Type":"application/json"})}};var w=n(12);var C=function(e,t){var n=new g.d(m),c=Object(r.useState)(n.getCurrentUser()),a=Object(i.a)(c,2),s=a[0],o=a[1],u=Object(r.useState)(""),l=Object(i.a)(u,2),j=l[0],d=l[1],p=Object(r.useState)(null),h=Object(i.a)(p,2),b=h[0],f=h[1],v={get:{"x-amz-access-token":j},post:{"Content-Type":"application/json","x-amz-access-token":j}},y=Object(r.useState)(!1),w=Object(i.a)(y,2),C=w[0],N=w[1],k=Object(r.useState)(!1),P=Object(i.a)(k,2),S=P[0],D=P[1],E=Object(r.useState)(null),U=Object(i.a)(E,2),T=U[0],A=U[1],I=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=4;break}s.getSession((function(e,t){return e?Promise.reject(e):(d(t.getAccessToken().getJwtToken()),f(new g.b({RefreshToken:t.getRefreshToken().getToken()})),N(!0),Promise.resolve())})),e.next=5;break;case 4:return e.abrupt("return",Promise.reject("user dne"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s&&b&&s.refreshSession(b,(function(e){return e?Promise.reject(e):I()}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(x.a)(O.a.mark((function e(t,r){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(x.a)(O.a.mark((function e(c,a){var i,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new g.a({Username:t,Password:r}),s||(u=new g.c({Username:t,Pool:n}),o(u),u.authenticateUser(i,{onSuccess:function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,I();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onFailure:function(e){a(e)},newPasswordRequired:function(e){delete e.email_verified,delete e.phone_number_verified,A(e),D(!0)}}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(x.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.signOut();case 3:t(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function q(){return R.apply(this,arguments)}function R(){return(R=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:return e.next=4,F();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){q()}),[]),Object(r.useEffect)((function(){C&&e()}),[C]),{headers:v,user:s,isAuthenticated:C,isFirstLogin:S,login:L,completePasswordChallenge:function(e){s.completeNewPasswordChallenge(e,T,{onSuccess:function(){q()}})},signOut:z}},N=function(e){var t=Object(r.useState)([]),n=Object(i.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(null),o=Object(i.a)(s,2),u=o[0],l=o[1],j=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(x.a)(O.a.mark((function e(t,n){var r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/characters");case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,a(c),t(c),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),l(e.t0),n(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var t=Object(x.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=Object(x.a)(O.a.mark((function t(r,c){var a,s,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e(),t.prev=1,t.next=4,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/characters",{method:"post",headers:y.post,body:JSON.stringify(n)});case 4:return s=t.sent,t.next=7,s.json();case 7:return i=t.sent,t.next=10,j();case 10:r(i),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),l(t.t0),c(t.t0);case 17:return t.prev=17,a(),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[1,13,17,20]])})));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(x.a)(O.a.mark((function t(n,r){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=Object(x.a)(O.a.mark((function t(c,a){var s,i,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e(),t.prev=1,t.next=4,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/characters/".concat(n),{method:"PUT",headers:y.post,body:JSON.stringify(r)});case 4:return i=t.sent,t.next=7,i.json();case 7:return o=t.sent,t.next=10,j();case 10:c(o),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),l(t.t0),a(t.t0);case 17:return t.prev=17,s(),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[1,13,17,20]])})));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),h=function(){var t=Object(x.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=Object(x.a)(O.a.mark((function t(r,c){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e(),t.prev=1,t.next=4,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/characters/".concat(n),{method:"delete",headers:y.get});case 4:return t.next=6,j();case 6:r(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),c(t.t0);case 12:return t.prev=12,a(),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){j()}),[]),{characters:c,err:u,getCharacters:j,createCharacter:d,updateCharacter:p,deleteCharacter:h}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return console.log(e)},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=Object(r.useState)(t),a=Object(i.a)(c,2),s=a[0],o=a[1],u=Object(r.useState)({}),l=Object(i.a)(u,2),j=l[0],d=l[1],p=function(e){return function(t){if(t.target&&t.target.value)return o((function(n){return Object.assign(n,Object(w.a)({},e,t.target.value))}));o((function(n){return Object.assign(n,Object(w.a)({},e,t))}))}},h=function(e){o(e)},b=function(e){return s[e]},f=function(e){return j[e]?"invalid":"valid"},m=function(){var e=!1,t=function(t){n[t](s[t])?d((function(e){return Object.assign(e,Object(w.a)({},t,!1))})):e=!0,d((function(e){return Object.assign(e,Object(w.a)({},t,!0))}))};for(var r in n)t(r);if(e)throw console.log(j),new Error("validation error")},g=function(){var t=Object(x.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=Object(x.a)(O.a.mark((function t(n,r){var c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,m(),t.next=4,e(s);case 4:c=t.sent,n(c),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{set:p,setAll:h,get:b,status:f,submit:g}},P=function(){var e=Object(r.useState)(window.location.href.split(window.location.origin)[1]),t=Object(i.a)(e,2),n=t[0],c=t[1];return{page:n,redirect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){c(e),window.history.pushState(t,e,e)}}}},S=function(e){var t=Object(r.useState)([]),n=Object(i.a)(t,2),c=n[0],a=n[1],s=function(){return new Promise(function(){var e=Object(x.a)(O.a.mark((function e(t,n){var r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/episodes");case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,a(c),t(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}())};return Object(r.useEffect)((function(){s()}),[]),{episodes:c,getEpisodes:s,createEpisode:function(t){return new Promise(function(){var n=Object(x.a)(O.a.mark((function n(r,c){var a,s,i;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e(),n.prev=1,n.next=4,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/episodes",{method:"post",headers:y.post,body:JSON.stringify(t)});case 4:return s=n.sent,n.next=7,s.json();case 7:i=n.sent,r(i),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),c(n.t0);case 14:return n.prev=14,a(),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[1,11,14,17]])})));return function(e,t){return n.apply(this,arguments)}}())},deleteEpisode:function(t){return new Promise(function(){var n=Object(x.a)(O.a.mark((function n(r,c){var a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e(),n.prev=1,n.next=4,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/episodes/".concat(t),{method:"delete",headers:y.get});case 4:r(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),c(n.t0);case 10:return n.prev=10,a(),n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[1,7,10,13]])})));return function(e,t){return n.apply(this,arguments)}}())}}},D=function(e){var t=Object(r.useState)(null),n=Object(i.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(null),o=Object(i.a)(s,2),u=o[0],l=o[1],j=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(x.a)(O.a.mark((function e(t,n){var r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/channel");case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,a(c),t(c),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),l(e.t0),n(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){j()}),[]),{channelInfo:c,err:u,updateChannelInfo:function(t){return new Promise(function(){var n=Object(x.a)(O.a.mark((function n(r,s){var i,o,u;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e(),n.prev=1,n.next=4,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/channel",{method:"PUT",headers:y.post,body:JSON.stringify(t)});case 4:return o=n.sent,n.next=7,o.json();case 7:u=n.sent,a(Object.assign(c,u)),r(),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(1),l(n.t0),s(n.t0);case 16:return n.prev=16,i(),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[1,12,16,19]])})));return function(e,t){return n.apply(this,arguments)}}())}}},E=function(e){var t=Object(r.useState)([]),n=Object(i.a)(t,2),c=n[0],a=n[1];return{messages:c,getMessages:function(){var e=Object(x.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/messages",{headers:y.get});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a(n),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),sendMessage:function(){var t=Object(x.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=Object(x.a)(O.a.mark((function t(r,c){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e("Sending your message!"),t.prev=1,t.next=4,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/messages",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:r(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),c(t.t0);case 10:return t.prev=10,a(),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[1,7,10,13]])})));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};var U=Object(r.createContext)(),T=function(){return c.a.useContext(U)};function A(e){var t=e.children,n=Object(r.useState)(null),c=Object(i.a)(n,2),a=c[0],s=c[1],o=Object(r.useState)(null),u=Object(i.a)(o,2),j=u[0],h=u[1],b=Object(r.useState)(null),f=Object(i.a)(b,2),m=f[0],g=f[1],v=Object(r.useState)(null),w=Object(i.a)(v,2),T=w[0],A=w[1],I=Object(r.useState)([]),F=Object(i.a)(I,2),L=(F[0],F[1],Object(r.useState)(!0)),z=Object(i.a)(L,2),q=z[0],R=z[1],H=function(){return R(!q)},M=Object(r.useState)(!1),V=Object(i.a)(M,2),J=V[0],W=V[1],B=function(e){return W(e),function(){W(!1)}},_=N(B),Y=S(B),G=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return{err:n,createUpload:function(e){return new Promise(function(){var t=Object(x.a)(O.a.mark((function t(n,r){var a,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/uploads",{method:"post",headers:y.post,body:JSON.stringify(e)});case 3:return a=t.sent,t.next=6,a.json();case 6:s=t.sent,n(s),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),c(t.t0),r(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}())}}}(),K=P(B),Q=D(B),X=E(B);var Z=C((function(){X.getMessages()}),B);return Object(l.jsxs)(U.Provider,{value:{router:K,auth:Z,characters:_,uploads:G,episodes:Y,channel:Q,contact:X,podcastId:a,podcastPlaying:q,togglePlay:H,setPodcast:function(e){return function(t){h("https://d1q33inlkclwle.cloudfront.net/".concat(e.audioSource.url)),A("https://d1q33inlkclwle.cloudfront.net/".concat(e.coverPhoto.url)),g(e.title),s(e.id)}},freeze:B,useForm:k},children:[Object(l.jsx)("div",{style:{display:J?"grid":"none",alignItems:"center",justifyContent:"center",backgroundColor:"#ccccccaa",width:"100vw",height:"100vh",zIndex:10,position:"fixed",left:0,top:0},children:Object(l.jsx)("span",{style:{backgroundColor:"white",padding:50,border:"1px solid black"},children:!0===J?"":Object(l.jsx)(p,{children:J})})}),t,!!j&&Object(l.jsx)(d,{src:j,title:m,photo:T,togglePlay:H,playing:q})]})}var I=n.p+"static/media/nav.de37125c.svg";function F(){var e=T().router,t=e.redirect,n=(e.page,Object(r.useState)(!1)),c=Object(i.a)(n,2),a=c[0],s=c[1],o=Object(r.useRef)(),u=function(e){return function(n){t(e)(),s(!1)}};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("nav",{onClick:function(){return s(!0)},id:"nav",className:a?"open":"",children:Object(l.jsx)("img",{src:I})}),Object(l.jsx)("div",{id:"nav-overlay",ref:o,onClick:function(e){e.target===o.current&&s(!1)},children:Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{onClick:u("/Clergymen/?page=about"),children:"About"}),Object(l.jsx)("li",{onClick:u("/Clergymen/?page=episodes"),children:"Episodes"}),Object(l.jsx)("li",{onClick:u("/Clergymen/?page=characters"),children:"Characters"}),Object(l.jsx)("li",{onClick:u("/Clergymen/?page=contact"),children:"Contact"})]})})]})}var L=function(){var e=T(),t=e.router.page,n=e.auth,c=n.isAuthenticated,a=n.isFirstLogin,s=n.login,o=n.completePasswordChallenge,u=n.signOut,j=Object(r.useState)(""),d=Object(i.a)(j,2),p=d[0],b=d[1],f=Object(r.useState)(""),m=Object(i.a)(f,2),g=m[0],v=m[1],y=Object(r.useState)(null),w=Object(i.a)(y,2),C=w[0],N=w[1],k=function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(p,g);case 3:b(""),v(""),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),N(null===e.t0||void 0===e.t0?void 0:e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return"/Clergymen/?page=admin"!==t?"":a?Object(l.jsxs)("div",{children:[Object(l.jsx)(h,{children:"Create New Password"}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Password"}),Object(l.jsx)("input",{type:"password",value:g,placeholder:"password",onChange:function(e){return v(e.target.value)}})]}),Object(l.jsx)("div",{className:"input-group",children:Object(l.jsx)("button",{onClick:function(){return o(g)},children:"Set New Password"})})]}):c?Object(l.jsx)("main",{className:"",children:Object(l.jsxs)("div",{children:["Click to ",Object(l.jsx)("a",{onClick:u,children:"logout."})]})}):Object(l.jsxs)("main",{className:"",children:[Object(l.jsx)(h,{children:"Log In"}),C&&Object(l.jsx)("div",{className:"input-group",children:Object(l.jsxs)("label",{children:["Error: ",C.toString()]})}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Username"}),Object(l.jsx)("input",{value:p,placeholder:"Username",onChange:function(e){return b(e.target.value)}})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Password"}),Object(l.jsx)("input",{type:"password",value:g,placeholder:"password",onChange:function(e){return v(e.target.value)}})]}),Object(l.jsx)("div",{className:"input-group",children:Object(l.jsx)("button",{onClick:k,children:"Log In"})})]})},z=n(10),q=n.p+"static/media/rotate.6f436ac3.svg";function R(){var e=T(),t=e.auth.user,n=e.router,c=n.page,a=n.redirect,s=e.characters.characters,o=Object(r.useState)([]),u=Object(i.a)(o,2),j=u[0],d=u[1];return"/Clergymen/?page=characters"!==c?"":Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"text-center",children:[Object(l.jsx)(p,{children:"Characters:"}),t&&Object(l.jsx)("a",{onClick:a("/Clergymen/?page=create-character"),children:"Add Character"})]}),Object(l.jsx)("main",{children:s.map((function(e){return Object(l.jsxs)("div",{className:j.includes(e.id)?"character-card actor":"character-card",children:[Object(l.jsxs)("div",{className:"character-played-by",children:[Object(l.jsxs)("header",{children:[Object(l.jsx)(b,{short:j.includes(e.id)?e.actorName:e.characterName,children:j.includes(e.id)?e.actorName:e.characterName}),Object(l.jsx)("img",{className:"invert",onClick:(n=e.id,function(e){if(j.includes(n))return d((function(e){return e.filter((function(e){return e!==n}))}));d((function(e){return[].concat(Object(z.a)(e),[n])}))}),src:q})]}),Object(l.jsx)("hr",{style:{margin:"25px 25%"}}),t&&Object(l.jsx)("div",{className:"text-center",children:Object(l.jsx)("a",{onClick:a("/Clergymen/?page=edit-character&id=".concat(e.id)),children:"Edit"})})]}),Object(l.jsx)("div",{className:"character-info",children:Object(l.jsx)("span",{children:j.includes(e.id)?e.actorLongDescription:e.characterLongDescription})}),!j.includes(e.id)&&e.characterPicture&&e.characterPicture.url&&Object(l.jsx)("div",{className:"character-image",children:Object(l.jsx)("img",{src:"https://d1q33inlkclwle.cloudfront.net/".concat(e.characterPicture.url)})}),j.includes(e.id)&&e.characterPicture&&e.characterPicture.url&&Object(l.jsx)("div",{className:"character-image",children:Object(l.jsx)("img",{src:"https://d1q33inlkclwle.cloudfront.net/".concat(e.actorPicture.url)})})]});var n}))})]})}function H(){var e=T(),t=e.auth.user,n=e.router,r=n.page,c=n.redirect,a=e.episodes.episodes,s=e.setPodcast,i=e.podcastId,j=e.podcastPlaying,d=e.togglePlay;return"/Clergymen/?page=episodes"!==r?"":Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"text-center",children:[Object(l.jsx)(p,{children:"Episodes:"}),t&&Object(l.jsx)("a",{onClick:c("/Clergymen/?page=create-episode"),children:"Add Episode"})]}),Object(l.jsx)("main",{children:a.map((function(e){return Object(l.jsxs)("div",{className:"character-card",children:[Object(l.jsxs)("div",{className:"character-played-by",children:[Object(l.jsxs)("header",{children:[Object(l.jsxs)(b,{children:[e.title,i===e.id&&" - Playing"]}),i===e.id&&j&&Object(l.jsx)("img",{className:"invert",onClick:d,src:o}),i===e.id&&!j&&Object(l.jsx)("img",{className:"invert",onClick:d,src:u}),i!==e.id&&Object(l.jsx)("img",{className:"invert",onClick:s(e),src:u})]}),Object(l.jsx)("hr",{style:{margin:"25px 25%"}}),t&&Object(l.jsx)("div",{className:"text-center",children:Object(l.jsx)("a",{onClick:c("/Clergymen/?page=edit-episode&id=".concat(e.id)),children:"Edit"})})]}),Object(l.jsxs)("div",{className:"character-info",children:[Object(l.jsxs)(b,{short:"S".concat(e.seasonNumber,", E").concat(e.episodeNumber),children:["Season ",e.seasonNumber,", Episode ",e.episodeNumber]}),Object(l.jsx)("span",{children:e.longDescription})]}),e.coverPhoto&&e.coverPhoto.url&&Object(l.jsx)("div",{className:"character-image",children:Object(l.jsx)("img",{src:"https://d1q33inlkclwle.cloudfront.net/".concat(e.coverPhoto.url)})})]})}))})]})}function M(){var e=T(),t=e.auth.user,n=e.router,c=n.page,a=(n.redirect,e.characters.createCharacter),s=e.uploads.createUpload,o=e.useForm,u=e.freeze,j=o(a),d=j.set,f=j.get,m=(j.status,j.submit),g=Object(r.useState)(!1),v=Object(i.a)(g,2),y=v[0],w=v[1],C=Object(r.useState)(!1),N=Object(i.a)(C,2),k=N[0],P=N[1],S=Object(r.useRef)(),D=Object(r.useRef)(),E=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.current.click();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D.current.click();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u("Uploading Photo"),e.prev=1,e.next=4,s({filename:S.current.files[0].name,contentType:t.target.files[0].type});case 4:return r=e.sent,e.next=7,fetch(r.uploadUrl,{method:"put",headers:new Headers({"Content-Type":S.current.files[0].type}),body:S.current.files[0]});case 7:console.log(r),d("characterPicture")(r.id),w("https://d1q33inlkclwle.cloudfront.net/".concat(r.url)),n(),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),alert("error while uploading - please try again"),n();case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u("Uploading Photo"),e.prev=1,e.next=4,s({filename:D.current.files[0].name,contentType:t.target.files[0].type});case 4:return r=e.sent,console.log(r),e.next=8,fetch(r.uploadUrl,{method:"put",headers:new Headers({"Content-Type":D.current.files[0].type}),body:D.current.files[0]});case 8:d("actorPicture")(r.id),P("https://d1q33inlkclwle.cloudfront.net/".concat(r.url)),n(),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),alert("error while uploading - please try again"),n();case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),F=function(e){e.target.style.height="".concat(e.target.scrollHeight,"px")};return t&&c.startsWith("/Clergymen/?page=create-character")?Object(l.jsxs)("main",{children:[Object(l.jsx)("div",{className:"text-center",children:Object(l.jsx)(p,{short:"Character",children:"Create Character"})}),Object(l.jsxs)("div",{className:"form",children:[Object(l.jsx)("header",{children:Object(l.jsx)(h,{children:"Add Character"})}),Object(l.jsxs)("section",{children:[Object(l.jsx)(b,{children:"Character Info"}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Character Name"}),Object(l.jsx)("input",{name:"characterName",value:f("characterName"),onChange:d("characterName")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Character Short Description"}),Object(l.jsx)("input",{name:"characterShortDescription",value:f("characterShortDescription"),onChange:d("characterShortDescription")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Character Long Description"}),Object(l.jsx)("textarea",{onFocus:F,onInput:F,name:"characterLongDescription",value:f("characterLongDescription"),onChange:d("characterLongDescription")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Character Picture"}),!y&&Object(l.jsx)("p",{onClick:E,children:"-- Upload Photo --"}),!!y&&Object(l.jsx)("img",{src:y}),Object(l.jsx)("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",hidden:!0,ref:S,onChange:A})]})]}),Object(l.jsxs)("section",{children:[Object(l.jsx)(b,{children:"Actor Info"}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Actor Name"}),Object(l.jsx)("input",{name:"actorName",value:f("actorName"),onChange:d("actorName")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Actor Short Description"}),Object(l.jsx)("input",{name:"actorShortDescription",value:f("actorShortDescription"),onChange:d("actorShortDescription")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Actor Long Description"}),Object(l.jsx)("textarea",{onFocus:F,onInput:F,name:"actorLongDescription",value:f("actorLongDescription"),onChange:d("actorLongDescription")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Actor Picture"}),!k&&Object(l.jsx)("p",{onClick:U,children:"-- Upload Photo --"}),!!k&&Object(l.jsx)("img",{src:k}),Object(l.jsx)("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",hidden:!0,ref:D,onChange:I})]})]}),Object(l.jsx)("button",{onClick:m,children:"Add Character"})]})]}):""}function V(){var e=T(),t=e.router.page,n=e.auth.user,c=e.episodes.createEpisode,a=e.uploads.createUpload,s=e.useForm,o=e.freeze,u=s((function(e){var t=e.releaseDate.split("-"),n=Object(i.a)(t,3),r=n[0],a=n[1],s=n[2],o=Object.assign(e,{episodeNumber:parseInt(e.episodeNumber),seasonNumber:parseInt(e.seasonNumber),releaseDate:new Date(r,a,s)});c(o)})),j=u.get,d=u.set,f=u.submit,m=Object(r.useState)(null),g=Object(i.a)(m,2),v=g[0],y=g[1],w=Object(r.useState)(null),C=Object(i.a)(w,2),N=C[0],k=C[1],P=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o("Uploading Photo"),e.prev=1,e.next=4,a({filename:D.current.files[0].name,contentType:t.target.files[0].type});case 4:return r=e.sent,e.next=7,fetch(r.uploadUrl,{method:"put",headers:new Headers({"Content-Type":D.current.files[0].type}),body:D.current.files[0]});case 7:d("coverPhoto")(r.id),y("https://d1q33inlkclwle.cloudfront.net/".concat(r.url)),n(),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),alert("error while uploading - please try again"),n();case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o("Uploading Podcast Audio - This May Take A Second!"),e.prev=1,e.next=4,a({filename:E.current.files[0].name,contentType:t.target.files[0].type});case 4:return r=e.sent,e.next=7,fetch(r.uploadUrl,{method:"put",headers:new Headers({"Content-Type":E.current.files[0].type}),body:E.current.files[0]});case 7:d("audioSource")(r.id),k("https://d1q33inlkclwle.cloudfront.net/".concat(r.url)),n(),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),alert("error while uploading - please try again"),n();case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),D=Object(r.useRef)(),E=Object(r.useRef)(),U=function(e){e.target.style.height="".concat(e.target.scrollHeight,"px")};return n?"/Clergymen/?page=create-episode"!==t?"":Object(l.jsxs)("main",{children:[Object(l.jsx)("div",{className:"text-center",children:Object(l.jsx)(p,{short:"Episode",children:"Create Episode"})}),Object(l.jsxs)("div",{className:"form",children:[Object(l.jsx)("header",{children:Object(l.jsx)(h,{children:"Add Episode"})}),Object(l.jsxs)("section",{children:[Object(l.jsx)(b,{children:"Episode Info"}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Episode Title"}),Object(l.jsx)("input",{name:"title",value:j("title"),onChange:d("title")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Season Number"}),Object(l.jsx)("input",{name:"seasonNumber",type:"number",value:j("seasonNumber"),onChange:d("seasonNumber")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Episode Number"}),Object(l.jsx)("input",{name:"episodeNumber",type:"number",value:j("episodeNumber"),onChange:d("episodeNumber")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Short Description"}),Object(l.jsx)("input",{name:"shortDescription",value:j("shortDescription"),onChange:d("shortDescription")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Long Description"}),Object(l.jsx)("textarea",{onFocus:U,onInput:U,name:"longDescription",value:j("longDescription"),onChange:d("longDescription")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Release Date (doesn't have to be final!)"}),Object(l.jsx)("input",{name:"releaseDate",type:"date",value:j("releaseDate"),onChange:d("releaseDate")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Cover Photo"}),!j("coverPhoto")&&Object(l.jsx)("p",{onClick:function(){return D.current.click()},children:"-- Upload Photo --"}),!!j("coverPhoto")&&Object(l.jsx)("img",{src:v}),Object(l.jsx)("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",hidden:!0,ref:D,onChange:P})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Audio File (mp3)"}),!j("audioSource")&&Object(l.jsx)("p",{onClick:function(){return E.current.click()},children:"-- Upload Audio --"}),!!j("audioSource")&&Object(l.jsx)("audio",{src:N}),Object(l.jsx)("input",{type:"file",accept:"audio/mp3",hidden:!0,ref:E,onChange:S})]})]}),Object(l.jsx)("button",{onClick:f,children:"Add Episode"})]})]}):""}function J(){var e=T(),t=e.auth.isAuthenticated,n=e.router,c=n.page,a=n.redirect,s=e.characters,o=s.characters,u=s.updateCharacter,j=s.deleteCharacter,d=e.uploads.createUpload,f=e.useForm,m=e.freeze,g=Object(r.useState)(null),v=Object(i.a)(g,2),y=v[0],w=v[1];Object(r.useEffect)((function(){!function(){var e=new URLSearchParams(c.split("?")[1]).get("id");w(o.find((function(t){return t.id===e})))}()}),[o,c]);var C=f(function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(y.id,t);case 2:a("/Clergymen/?page=characters");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N=C.set,k=C.submit,P=Object(r.useRef)(),S=Object(r.useRef)(),D=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P.current.click();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.current.click();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m("Uploading Photo"),e.prev=1,e.next=4,d({filename:P.current.files[0].name,contentType:t.target.files[0].type});case 4:return r=e.sent,e.next=7,fetch(r.uploadUrl,{method:"put",headers:new Headers({"Content-Type":P.current.files[0].type}),body:P.current.files[0]});case 7:console.log(r),N("characterPicture")(r.id),w((function(e){return Object.assign(e,{characterPicture:{url:"https://d1q33inlkclwle.cloudfront.net/".concat(r.url)}})})),n(),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),alert("error while uploading - please try again"),n();case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m("Uploading Photo"),e.prev=1,e.next=4,d({filename:S.current.files[0].name,contentType:t.target.files[0].type});case 4:return r=e.sent,console.log(r),e.next=8,fetch(r.uploadUrl,{method:"put",headers:new Headers({"Content-Type":S.current.files[0].type}),body:S.current.files[0]});case 8:N("actorPicture")(r.id),w((function(e){return Object.assign(e,{actorPicture:{url:"https://d1q33inlkclwle.cloudfront.net/".concat(r.url)}})})),n(),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),alert("error while uploading - please try again"),n();case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return t&&y&&c.startsWith("/Clergymen/?page=edit-character")?Object(l.jsxs)("main",{children:[Object(l.jsx)("div",{className:"text-center",children:Object(l.jsxs)(p,{short:"Edit",children:["Edit ",y.characterName]})}),Object(l.jsxs)("div",{className:"form",children:[Object(l.jsx)("header",{children:Object(l.jsxs)(h,{children:[y.characterName,"/",y.actorName]})}),Object(l.jsxs)("section",{children:[Object(l.jsx)(b,{children:"Character Info"}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Character Name"}),Object(l.jsx)("input",{name:"characterName",defaultValue:y.characterName,onChange:N("characterName")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Character Short Description"}),Object(l.jsx)("input",{name:"characterShortDescription",defaultValue:y.characterShortDescription,onChange:N("characterShortDescription")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Character Long Description"}),Object(l.jsx)("textarea",{name:"characterLongDescription",defaultValue:y.characterLongDescription,onChange:N("characterLongDescription")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Character Picture"}),!y.characterPicture&&Object(l.jsx)("p",{onClick:D,children:"-- Upload Photo --"}),!!y.characterPicture&&Object(l.jsx)("div",{className:"circle-image-container",children:Object(l.jsx)("img",{onClick:D,src:"https://d1q33inlkclwle.cloudfront.net/".concat(y.characterPicture.url)})}),Object(l.jsx)("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",hidden:!0,ref:P,onChange:U})]})]}),Object(l.jsxs)("section",{children:[Object(l.jsx)(b,{children:"Actor Info"}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Actor Name"}),Object(l.jsx)("input",{name:"actorName",defaultValue:y.actorName,onChange:N("actorName")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Actor Short Description"}),Object(l.jsx)("input",{name:"actorShortDescription",defaultValue:y.actorShortDescription,onChange:N("actorShortDescription")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Actor Long Description"}),Object(l.jsx)("textarea",{name:"actorLongDescription",defaultValue:y.actorLongDescription,onChange:N("actorLongDescription")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Actor Picture"}),!y.actorPicture&&Object(l.jsx)("p",{onClick:E,children:"-- Upload Photo --"}),!!y.actorPicture&&Object(l.jsx)("div",{className:"circle-image-container",children:Object(l.jsx)("img",{onClick:E,src:"https://d1q33inlkclwle.cloudfront.net/".concat(y.actorPicture.url)})}),Object(l.jsx)("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",hidden:!0,ref:S,onChange:A})]})]}),Object(l.jsxs)("div",{className:"button-group",children:[Object(l.jsx)("button",{onClick:k,children:"Submit Changes"}),Object(l.jsx)("button",{onClick:Object(x.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(y.id);case 3:a("/Clergymen/?page=characters"),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])}))),children:"Delete Character"})]})]})]}):null}var W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"".concat(e.getFullYear(),"-").concat(("00"+e.getMonth()).slice(-2),"-").concat(("00"+e.getDate()).slice(-2))};function B(){var e=T(),t=e.auth.user,n=e.router.page,c=e.uploads.createUpload,a=e.episodes,s=a.episodes,o=a.updateEpisode,u=a.deleteEpisode,j=e.useForm,d=e.freeze,f=Object(r.useState)(null),m=Object(i.a)(f,2),g=m[0],v=m[1],y=j((function(e){return o(g.id,e)})),w=y.get,C=y.set,N=y.submit,k=y.setAll;Object(r.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("id"),t=s.filter((function(t){return t.id===e}));v(t.length?t[0]:null)}),[s,n]),Object(r.useEffect)((function(){g&&(k(g),E("https://d1q33inlkclwle.cloudfront.net/".concat(g.coverPhoto.url)),F("https://d1q33inlkclwle.cloudfront.net/".concat(g.audioSource.url)))}),[g]);var P=Object(r.useState)(null),S=Object(i.a)(P,2),D=S[0],E=S[1],U=Object(r.useState)(null),A=Object(i.a)(U,2),I=A[0],F=A[1],L=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d("Uploading Photo"),e.prev=1,e.next=4,c({filename:q.current.files[0].name,contentType:t.target.files[0].type});case 4:return r=e.sent,e.next=7,fetch(r.uploadUrl,{method:"put",headers:new Headers({"Content-Type":q.current.files[0].type}),body:q.current.files[0]});case 7:C("coverPhoto")(r.id),E("https://d1q33inlkclwle.cloudfront.net/".concat(r.url)),n(),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),alert("error while uploading - please try again"),n();case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d("Uploading Podcast Audio - This May Take A Second!"),e.prev=1,e.next=4,c({filename:R.current.files[0].name,contentType:t.target.files[0].type});case 4:return r=e.sent,e.next=7,fetch(r.uploadUrl,{method:"put",headers:new Headers({"Content-Type":R.current.files[0].type}),body:R.current.files[0]});case 7:C("audioSource")(r.id),F("https://d1q33inlkclwle.cloudfront.net/".concat(r.url)),n(),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),alert("error while uploading - please try again"),n();case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),q=Object(r.useRef)(),R=Object(r.useRef)(),H=function(e){e.target.style.height="".concat(e.target.scrollHeight,"px")};return t&&n.startsWith("/Clergymen/?page=edit-episode&id=")&&g?Object(l.jsxs)("main",{children:[Object(l.jsx)("div",{className:"text-center",children:Object(l.jsx)(p,{short:"Episode",children:"Create Episode"})}),Object(l.jsxs)("div",{className:"form",children:[Object(l.jsx)("header",{children:Object(l.jsx)(h,{children:"Add Episode"})}),Object(l.jsxs)("section",{children:[Object(l.jsx)(b,{children:"Episode Info"}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Episode Title"}),Object(l.jsx)("input",{name:"title",value:w("title"),onChange:C("title")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Season Number"}),Object(l.jsx)("input",{name:"seasonNumber",type:"number",value:w("seasonNumber"),onChange:C("seasonNumber")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Episode Number"}),Object(l.jsx)("input",{name:"episodeNumber",type:"number",value:w("episodeNumber"),onChange:C("episodeNumber")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Short Description"}),Object(l.jsx)("input",{name:"shortDescription",value:w("shortDescription"),onChange:C("shortDescription")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Long Description"}),Object(l.jsx)("textarea",{onFocus:H,onInput:H,name:"longDescription",value:w("longDescription"),onChange:C("longDescription")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Release Date (doesn't have to be final!)"}),Object(l.jsx)("input",{name:"releaseDate",type:"date",value:W(new Date(w("releaseDate"))),onChange:C("releaseDate")})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Cover Photo"}),!w("coverPhoto")&&Object(l.jsx)("p",{onClick:function(){return q.current.click()},children:"-- Upload Photo --"}),!!w("coverPhoto")&&Object(l.jsx)("img",{src:D}),Object(l.jsx)("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",hidden:!0,ref:q,onChange:L})]}),Object(l.jsxs)("div",{className:"input-group",children:[Object(l.jsx)("label",{children:"Audio File (mp3)"}),!I&&Object(l.jsx)("p",{onClick:function(){return R.current.click()},children:"-- Upload Audio --"}),I&&Object(l.jsx)("audio",{src:I}),Object(l.jsx)("input",{type:"file",accept:"audio/mp3",hidden:!0,ref:R,onChange:z})]})]}),Object(l.jsxs)("div",{className:"button-group",children:[Object(l.jsx)("button",{onClick:N,children:"Edit Episode"}),Object(l.jsx)("button",{onClick:function(){return u(g.id)},children:"Delete Episode"})]})]})]}):""}function _(e){var t=e.onChange,n=e.defaultValue,c=void 0===n?[]:n,a=Object(r.useState)(c),s=Object(i.a)(a,2),o=s[0],u=s[1],j=function(e){return function(n){var r=Object(z.a)(o);r[e]=n.target.innerText,u(r),t(r)}},d=function(e){return function(){var n=Object(z.a)(o);n.splice(e,1),u(n),t(n)}};return Object(l.jsxs)(l.Fragment,{children:[o.map((function(e,t){return Object(l.jsxs)("section",{children:[Object(l.jsx)("div",{contentEditable:!0,onBlur:j(t),children:e}),Object(l.jsx)("button",{onClick:d(t),children:"Remove Section"})]})})),Object(l.jsx)("section",{children:Object(l.jsx)("button",{onClick:function(){var e=[].concat(Object(z.a)(o),[""]);u(e),t(e)},children:"Add Section"})})]})}function Y(){var e,t=T(),n=t.router.page,c=t.auth.user,a=t.channel,s=a.channelInfo,o=a.updateChannelInfo,u=t.uploads.createUpload,j=t.useForm,d=t.freeze,h=Object(r.useState)(!1),b=Object(i.a)(h,2),f=b[0],m=b[1],g=j((function(e){o(e),m(!1)})),v=g.set,y=(g.get,g.submit),w=Object(r.useRef)(),C=Object(r.useState)(null),N=Object(i.a)(C,2),k=N[0],P=N[1];Object(r.useEffect)((function(){var e;s&&s.image&&s.image.url&&P("https://d1q33inlkclwle.cloudfront.net/".concat(null===s||void 0===s||null===(e=s.image)||void 0===e?void 0:e.url))}),[s]);var S=function(){return w.current.click()},D=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d("Uploading Photo"),e.prev=1,e.next=4,u({filename:w.current.files[0].name,contentType:t.target.files[0].type});case 4:return r=e.sent,e.next=7,fetch(r.uploadUrl,{method:"put",headers:new Headers({"Content-Type":w.current.files[0].type}),body:w.current.files[0]});case 7:console.log(r),v("image")(r.id),P("https://d1q33inlkclwle.cloudfront.net/".concat(r.url)),n(),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),alert("error while uploading - please try again"),n();case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return["/Clergymen/?page=admin","/Clergymen/?page=characters","/Clergymen/?page=contact","/Clergymen/?page=create-character","/Clergymen/?page=create-episode","/Clergymen/?page=edit-about","/Clergymen/?page=episodes","/Clergymen/?page=edit-episode","/Clergymen/?page=edit-character"].find((function(e){return n.startsWith(e)}))?null:s?f?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"text-center",children:Object(l.jsx)(p,{children:"Edit Channel Info"})}),Object(l.jsx)("main",{onSubmit:function(e){return e.preventDefault()},className:"about-container",children:Object(l.jsxs)("div",{className:"about",children:[Object(l.jsxs)("section",{className:"about-input",children:[Object(l.jsx)("p",{children:"Title"}),Object(l.jsx)("input",{onChange:v("title"),defaultValue:s.title})]}),Object(l.jsxs)("section",{className:"about-input",children:[Object(l.jsx)("p",{children:"Author"}),Object(l.jsx)("input",{onChange:v("author"),defaultValue:s.author})]}),Object(l.jsxs)("section",{className:"about-input",children:[Object(l.jsx)("p",{children:"Copyright"}),Object(l.jsx)("input",{onChange:v("copyright"),defaultValue:s.copyright})]}),Object(l.jsxs)("section",{className:"about-input",children:[Object(l.jsx)("p",{children:"Category"}),Object(l.jsx)("input",{onChange:v("category"),defaultValue:s.category})]}),Object(l.jsxs)("section",{className:"about-input",children:[Object(l.jsx)("p",{children:"Subcategory"}),Object(l.jsx)("input",{onChange:v("subcategory"),defaultValue:s.subcategory})]}),Object(l.jsxs)("section",{className:"about-input",children:[Object(l.jsx)("p",{children:"Channel Description"}),Object(l.jsx)("div",{className:"string-input-array",children:Object(l.jsx)(_,{onChange:v("description"),defaultValue:s.description})})]}),Object(l.jsxs)("section",{className:"about-input",children:[Object(l.jsx)("p",{children:"Image"}),!k&&Object(l.jsx)("p",{onClick:S,children:"-- Upload Photo --"}),!!k&&Object(l.jsx)("img",{onClick:S,src:k}),Object(l.jsx)("input",{ref:w,onChange:D,type:"file",hidden:!0,accept:".jpg, .jpeg, .png"})]}),Object(l.jsx)("section",{className:"about-input",children:Object(l.jsx)("button",{onClick:y,children:"Submit Changes"})})]})})]}):Object(l.jsx)("main",{className:"about-container",children:Object(l.jsxs)("div",{className:"about",children:[Object(l.jsxs)("section",{className:"about-section",children:[Object(l.jsx)(p,{children:s.title}),Object(l.jsx)("div",{className:"text-center",children:!!c&&Object(l.jsx)("a",{onClick:function(){m(!0)},children:"Edit"})}),Object(l.jsx)("div",{className:"about-image",children:Object(l.jsx)("img",{src:"https://d1q33inlkclwle.cloudfront.net/".concat(null===s||void 0===s||null===(e=s.image)||void 0===e?void 0:e.url)})})]}),Object(l.jsx)("section",{className:"about-section",children:Array.isArray(s.description)&&s.description.map((function(e){return Object(l.jsx)("p",{className:"about-text",children:e})}))})]})}):""}function G(){var e=T(),t=e.router.page,n=e.episodes.episodes,c=e.setPodcast,a=Object(r.useState)(null),s=Object(i.a)(a,2),o=s[0],u=s[1];return Object(r.useEffect)((function(){if(t.startsWith("/Clergymen/?page=episodes&id=")){var e=new URLSearchParams(window.location.search).get("id"),r=n.filter((function(t){return t.id===e}));console.log(e,r),u(r.length?r[0]:null)}}),[n,t]),Object(r.useEffect)((function(){console.log("on episode found effect",o),null!==o&&c(o)()}),[o]),t.startsWith("/Clergymen?page=episodes&id=")&&o?Object(l.jsx)("div",{}):""}function K(){var e=T(),t=e.router.page,n=e.auth.isAuthenticated,c=e.contact,a=c.messages,s=(c.getMessages,c.sendMessage),o=e.useForm,u=Object(r.useState)(null),j=Object(i.a)(u,2),d=j[0],h=j[1],f=o((function(e){return e.name?e.to?e.message?e.contact?void s(e):h("Please enter your contact information!"):h("Please enter a message to send us!"):h("Please select a someone to message!"):h("Please enter your name!")})),O=f.set,x=f.get,m=f.submit;return"/Clergymen/?page=contact"!==t?"":n?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"text-center",children:Object(l.jsx)(p,{children:"Messages"})}),Object(l.jsx)("main",{className:"contact-page",children:a.map((function(e){return Object(l.jsxs)("div",{className:"contact-message",children:[Object(l.jsxs)(b,{children:["Dear ",e.to||"Clergymen",","]}),Object(l.jsx)("p",{children:e.message}),Object(l.jsxs)("p",{children:["Contact me at ",e.contact]}),Object(l.jsxs)("p",{children:["Sincerely, ",e.name]})]})}))})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"text-center",children:Object(l.jsx)(p,{children:"Contact The Clergymen"})}),Object(l.jsxs)("main",{className:"contact-page",children:[d&&Object(l.jsx)("div",{className:"error",children:d}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)(b,{children:"Your Name:"}),Object(l.jsx)("div",{contentEditable:!0,onBlur:function(e){return O("name")(e.target.innerText)},children:x("name")})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)(b,{children:"Your Contact Info:"}),Object(l.jsx)("div",{contentEditable:!0,onBlur:function(e){return O("contact")(e.target.innerText)},children:x("contact")})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)(b,{children:"Message:"}),Object(l.jsx)("div",{contentEditable:!0,onBlur:function(e){return O("message")(e.target.innerText)},children:x("message")})]}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("button",{onClick:m,children:"Send Message"})})]})]})}var Q=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(F,{}),Object(l.jsx)(L,{}),Object(l.jsx)(Y,{}),Object(l.jsx)(R,{}),Object(l.jsx)(M,{}),Object(l.jsx)(J,{}),Object(l.jsx)(H,{}),Object(l.jsx)(G,{}),Object(l.jsx)(B,{}),Object(l.jsx)(V,{}),Object(l.jsx)(K,{})]})};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(A,{children:Object(l.jsx)(Q,{})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.4d7dffc2.chunk.js.map