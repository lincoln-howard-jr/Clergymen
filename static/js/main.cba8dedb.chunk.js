(this.webpackJsonpclergymen=this.webpackJsonpclergymen||[]).push([[0],{25:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),a=n(20),s=n.n(a),i=(n(25),n(3)),o=n(0),u=function(e){return"".concat(Math.floor(e/60),":").concat(("00"+Math.floor(e%60)).slice(-2))},l=function(e){var t=e.src,n=e.playing,c=e.title,a=e.togglePlay,s=e.photo,l=Object(r.useState)("0%"),j=Object(i.a)(l,2),d=j[0],p=j[1],h=Object(r.useState)(0),b=Object(i.a)(h,2),f=b[0],O=b[1],x=Object(r.useState)(0),m=Object(i.a)(x,2),g=m[0],v=m[1],y=Object(r.useRef)();return Object(r.useEffect)((function(){n?y.current.play():y.current.pause()}),[n]),Object(o.jsxs)("footer",{id:"audio-player",onClick:a,children:[Object(o.jsxs)("section",{className:"audio-player-container",children:[Object(o.jsxs)("section",{className:"audio-player-time",children:[u(f)," / ",u(g)]}),Object(o.jsx)("section",{className:"audio-player-title",children:c}),Object(o.jsx)("section",{onClick:a,className:"audio-player-image",children:Object(o.jsx)("img",{src:s})}),Object(o.jsx)("section",{style:{width:d},className:"progress"})]}),Object(o.jsx)("audio",{onTimeUpdate:function(e){p("".concat(y.current.currentTime/y.current.duration*80,"%")),O(y.current.currentTime),v(y.current.duration)},ref:y,src:t,autoPlay:!0})]})};function j(e){var t=e.children,n=e.short;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{children:t}),Object(o.jsx)("h1",{className:"short",children:n||t})]})}function d(e){var t=e.children,n=e.short;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h2",{children:t}),Object(o.jsx)("h2",{className:"short",children:n||t})]})}function p(e){var t=e.children,n=e.short;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h3",{children:t}),Object(o.jsx)("h3",{className:"short",children:n||t})]})}var h=n(1),b=n.n(h),f=n(4),O=n(12),x={UserPoolId:"us-east-1_UW4qNlUmI",ClientId:"5kurv3o1l70p414j83ka7i16sc",IdentityPoolId:"us-east-1:2cc114d3-6d89-4f65-b6e5-0b2902209f61"},m=n(7);new m.d(x);var g=null,v={get get(){return new Headers({"x-amz-access-token":g})},get post(){return new Headers({"x-amz-access-token":g,"Content-Type":"application/json"})}};var y=n(13);var w=function(e){var t=new m.d(x),n=Object(r.useState)(t.getCurrentUser()),c=Object(i.a)(n,2),a=c[0],s=c[1],o=Object(r.useState)(""),u=Object(i.a)(o,2),l=u[0],j=u[1],d=Object(r.useState)(null),p=Object(i.a)(d,2),h=p[0],g=p[1],v={get:{"x-amz-access-token":l},post:{"Content-Type":"application/json","x-amz-access-token":l}},y=Object(r.useState)(!1),w=Object(i.a)(y,2),C=w[0],N=w[1],k=Object(r.useState)(!1),P=Object(i.a)(k,2),S=P[0],D=P[1],U=Object(r.useState)(null),E=Object(i.a)(U,2),T=E[0],A=E[1],F=function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=4;break}a.getSession((function(e,t){return e?Promise.reject(e):(j(t.getAccessToken().getJwtToken()),g(new m.b({RefreshToken:t.getRefreshToken().getToken()})),N(!0),Promise.resolve())})),e.next=5;break;case 4:return e.abrupt("return",Promise.reject("user dne"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a&&h&&a.refreshSession(h,(function(e){return e?Promise.reject(e):F()}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(f.a)(b.a.mark((function e(n,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(f.a)(b.a.mark((function e(c,i){var o,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=new m.a({Username:n,Password:r}),a||(u=new m.c({Username:n,Pool:t}),s(u),u.authenticateUser(o,{onSuccess:function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,F();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onFailure:function(e){i(e)},newPasswordRequired:function(e){delete e.email_verified,delete e.phone_number_verified,A(e),D(!0)}}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:return e.next=4,I();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.useEffect)((function(){q()}),[]),Object(O.useEffect)((function(){C&&e()}),[C]),{headers:v,user:a,isAuthenticated:C,isFirstLogin:S,login:L,completePasswordChallenge:function(e){console.log(e,a),a.completeNewPasswordChallenge(e,T,{onSuccess:function(){q()}})}}},C=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(null),s=Object(i.a)(a,2),o=s[0],u=s[1],l=function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/characters");case 3:return r=e.sent,e.next=6,r.json();case 6:a=e.sent,c(a),t(a),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),u(e.t0),n(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(f.a)(b.a.mark((function e(n,r){var c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/characters",{method:"post",headers:v.post,body:JSON.stringify(t)});case 3:return c=e.sent,e.next=6,c.json();case 6:a=e.sent,n(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u(e.t0),r(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(f.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(f.a)(b.a.mark((function e(r,c){var a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/characters/".concat(t),{method:"PUT",headers:v.post,body:JSON.stringify(n)});case 3:return a=e.sent,e.next=6,a.json();case 6:s=e.sent,r(s),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u(e.t0),c(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){l()}),[]),{characters:n,err:o,getCharacters:l,createCharacter:j,updateCharacter:d}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return console.log(e)},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=Object(r.useState)(t),a=Object(i.a)(c,2),s=a[0],o=a[1],u=Object(r.useState)({}),l=Object(i.a)(u,2),j=l[0],d=l[1],p=function(e){return function(t){if(t.target&&t.target.value)return o((function(n){return Object.assign(n,Object(y.a)({},e,t.target.value))}));o((function(n){return Object.assign(n,Object(y.a)({},e,t))}))}},h=function(e){o(e)},O=function(e){return s[e]},x=function(e){return j[e]?"invalid":"valid"},m=function(){var e=!1,t=function(t){n[t](s[t])?d((function(e){return Object.assign(e,Object(y.a)({},t,!1))})):e=!0,d((function(e){return Object.assign(e,Object(y.a)({},t,!0))}))};for(var r in n)t(r);if(e)throw console.log(j),new Error("validation error")},g=function(){var t=Object(f.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=Object(f.a)(b.a.mark((function t(n,r){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,m(),t.next=4,e(s);case 4:c=t.sent,n(c),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{set:p,setAll:h,get:O,status:x,submit:g}},k=function(){var e=Object(r.useState)(window.location.href.split(window.location.origin)[1]),t=Object(i.a)(e,2),n=t[0],c=t[1];return{page:n,redirect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){c(e),window.history.pushState(t,e,e)}}}},P=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(null),s=Object(i.a)(a,2),o=s[0],u=(s[1],function(){return new Promise(function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/episodes");case 3:return r=e.sent,e.next=6,r.json();case 6:a=e.sent,c(a),t(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),n(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}())});return Object(r.useEffect)((function(){u()}),[]),{episodes:n,err:o,getEpisodes:u,createEpisode:function(e){return new Promise(function(){var t=Object(f.a)(b.a.mark((function t(n,r){var c,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/episodes",{method:"post",headers:v.post,body:JSON.stringify(e)});case 3:return c=t.sent,t.next=6,c.json();case 6:a=t.sent,n(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}())}}},S=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(null),s=Object(i.a)(a,2),o=s[0],u=s[1],l=function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(f.a)(b.a.mark((function e(t,n){var r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/channel");case 3:return r=e.sent,e.next=6,r.json();case 6:a=e.sent,c(a),t(a),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),u(e.t0),n(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){l()}),[]),{channelInfo:n,err:o,updateChannelInfo:function(e){return new Promise(function(){var t=Object(f.a)(b.a.mark((function t(r,a){var s,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/channel",{method:"PUT",headers:v.post,body:JSON.stringify(e)});case 3:return s=t.sent,t.next=6,s.json();case 6:i=t.sent,c(Object.assign(n,i)),r(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),u(t.t0),a(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}())}}},D=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1];return{messages:n,getMessages:function(){var e=Object(f.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/messages",{headers:v.get});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,c(n),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),sendMessage:function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(f.a)(b.a.mark((function e(n,r){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/messages",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:n(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};var U=Object(r.createContext)(),E=function(){return c.a.useContext(U)};function T(e){var t=e.children,n=Object(r.useState)(null),c=Object(i.a)(n,2),a=c[0],s=c[1],u=Object(r.useState)(null),d=Object(i.a)(u,2),p=d[0],h=d[1],O=Object(r.useState)(null),x=Object(i.a)(O,2),m=x[0],g=x[1],y=Object(r.useState)([]),E=Object(i.a)(y,2),T=(E[0],E[1],Object(r.useState)(!0)),A=Object(i.a)(T,2),F=A[0],I=A[1],L=function(){return I(!F)},q=Object(r.useState)(!1),z=Object(i.a)(q,2),R=z[0],H=z[1],M=C(),V=P(),J=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return{err:n,createUpload:function(e){return new Promise(function(){var t=Object(f.a)(b.a.mark((function t(n,r){var a,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://38uy900ohj.execute-api.us-east-1.amazonaws.com/Prod/uploads",{method:"post",headers:v.post,body:JSON.stringify(e)});case 3:return a=t.sent,t.next=6,a.json();case 6:s=t.sent,n(s),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),c(t.t0),r(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}())}}}(),W=k(),_=S(),Y=D();var B=w((function(){Y.getMessages()}));return Object(o.jsxs)(U.Provider,{value:{router:W,auth:B,characters:M,uploads:J,episodes:V,channel:_,contact:Y,togglePlay:L,setPodcast:function(e){return function(t){s("https://d1q33inlkclwle.cloudfront.net/".concat(e.audioSource.url)),g("https://d1q33inlkclwle.cloudfront.net/".concat(e.coverPhoto.url)),h(e.title)}},freeze:function(e){return H(e),function(){H(!1)}},useForm:N},children:[Object(o.jsx)("div",{style:{display:R?"grid":"none",alignItems:"center",justifyContent:"center",backgroundColor:"#ccccccaa",width:"100vw",height:"100vh",zIndex:10,position:"fixed",left:0,top:0},children:Object(o.jsx)("span",{style:{backgroundColor:"white",padding:50,border:"1px solid black"},children:!0===R?"":Object(o.jsx)(j,{children:R})})}),t,!!a&&Object(o.jsx)(l,{src:a,title:p,photo:m,togglePlay:L,playing:F})]})}var A=n.p+"static/media/nav.de37125c.svg";function F(){var e=E().router,t=e.redirect,n=(e.page,Object(r.useState)(!1)),c=Object(i.a)(n,2),a=c[0],s=c[1],u=Object(r.useRef)(),l=function(e){return function(n){t(e)(),s(!1)}};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("nav",{onClick:function(){return s(!0)},id:"nav",className:a?"open":"",children:Object(o.jsx)("img",{src:A})}),Object(o.jsx)("div",{id:"nav-overlay",ref:u,onClick:function(e){e.target===u.current&&s(!1)},children:Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{onClick:l("/Clergymen?page=about"),children:"About"}),Object(o.jsx)("li",{onClick:l("/Clergymen?page=episodes"),children:"Episodes"}),Object(o.jsx)("li",{onClick:l("/Clergymen?page=characters"),children:"Characters"}),Object(o.jsx)("li",{onClick:l("/Clergymen?page=contact"),children:"Contact"})]})})]})}var I=function(){var e=E(),t=e.router.page,n=e.auth,c=n.isAuthenticated,a=n.isFirstLogin,s=n.login,u=n.completePasswordChallenge,l=Object(r.useState)(""),j=Object(i.a)(l,2),p=j[0],h=j[1],O=Object(r.useState)(""),x=Object(i.a)(O,2),m=x[0],g=x[1],v=Object(r.useState)(null),y=Object(i.a)(v,2),w=(y[0],y[1]),C=function(){var e=Object(f.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(p,m);case 3:h(""),g(""),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),w(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return"/Clergymen?page=admin"!==t?"":a?Object(o.jsxs)("div",{children:[Object(o.jsx)(d,{children:"Create New Password"}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Password"}),Object(o.jsx)("input",{type:"password",value:m,placeholder:"password",onChange:function(e){return g(e.target.value)}})]}),Object(o.jsx)("div",{className:"input-group",children:Object(o.jsx)("button",{onClick:function(){return u(m)},children:"Set New Password"})})]}):c?"":Object(o.jsxs)("main",{className:"",children:[Object(o.jsx)(d,{children:"Log In"}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Username"}),Object(o.jsx)("input",{value:p,placeholder:"Username",onChange:function(e){return h(e.target.value)}})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Password"}),Object(o.jsx)("input",{type:"password",value:m,placeholder:"password",onChange:function(e){return g(e.target.value)}})]}),Object(o.jsx)("div",{className:"input-group",children:Object(o.jsx)("button",{onClick:C,children:"Log In"})})]})},L=n(10),q=n.p+"static/media/rotate.6f436ac3.svg";function z(){var e=E(),t=e.auth.user,n=e.router,c=n.page,a=n.redirect,s=e.characters.characters,u=Object(r.useState)([]),l=Object(i.a)(u,2),d=l[0],h=l[1];return"/Clergymen?page=characters"!==c?"":Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsx)(j,{children:"Characters:"}),t&&Object(o.jsx)("a",{onClick:a("/Clergymen?page=create-character"),children:"Add Character"})]}),Object(o.jsx)("main",{children:s.map((function(e){return Object(o.jsxs)("div",{className:d.includes(e.id)?"character-card actor":"character-card",children:[Object(o.jsxs)("div",{className:"character-played-by",children:[Object(o.jsxs)("header",{children:[Object(o.jsx)(p,{short:d.includes(e.id)?e.actorName:e.characterName,children:d.includes(e.id)?e.actorName:e.characterName}),Object(o.jsx)("img",{className:"invert",onClick:(n=e.id,function(e){if(d.includes(n))return h((function(e){return e.filter((function(e){return e!==n}))}));h((function(e){return[].concat(Object(L.a)(e),[n])}))}),src:q})]}),Object(o.jsx)("hr",{style:{margin:"25px 25%"}}),t&&Object(o.jsx)("div",{className:"text-center",children:Object(o.jsx)("a",{onClick:a("/edit-character/".concat(e.id)),children:"Edit"})})]}),Object(o.jsx)("div",{className:"character-info",children:Object(o.jsx)("span",{children:d.includes(e.id)?e.actorLongDescription:e.characterLongDescription})}),!d.includes(e.id)&&e.characterPicture&&e.characterPicture.url&&Object(o.jsx)("div",{className:"character-image",children:Object(o.jsx)("img",{src:"https://d1q33inlkclwle.cloudfront.net/".concat(e.characterPicture.url)})}),d.includes(e.id)&&e.characterPicture&&e.characterPicture.url&&Object(o.jsx)("div",{className:"character-image",children:Object(o.jsx)("img",{src:"https://d1q33inlkclwle.cloudfront.net/".concat(e.actorPicture.url)})})]});var n}))})]})}var R=n.p+"static/media/play.c0a9fbaf.svg";function H(){var e=E(),t=e.auth.user,n=e.router,r=n.page,c=n.redirect,a=e.episodes.episodes,s=e.setPodcast;return"/Clergymen?page=episodes"!==r?"":Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsx)(j,{children:"Episodes:"}),t&&Object(o.jsx)("a",{onClick:c("/Clergymen?page=create-episode"),children:"Add Episode"})]}),Object(o.jsx)("main",{children:a.map((function(e){return Object(o.jsxs)("div",{className:"character-card",children:[Object(o.jsxs)("div",{className:"character-played-by",children:[Object(o.jsxs)("header",{children:[Object(o.jsx)(p,{children:e.title}),Object(o.jsx)("img",{className:"invert",onClick:s(e),src:R})]}),Object(o.jsx)("hr",{style:{margin:"25px 25%"}}),t&&Object(o.jsx)("div",{className:"text-center",children:Object(o.jsx)("a",{onClick:c("/Clergymen/edit-episode?id=".concat(e.id)),children:"Edit"})})]}),Object(o.jsxs)("div",{className:"character-info",children:[Object(o.jsxs)(p,{short:"S".concat(e.seasonNumber,", E").concat(e.episodeNumber),children:["Season ",e.seasonNumber,", Episode ",e.episodeNumber]}),Object(o.jsx)("span",{children:e.longDescription})]}),e.coverPhoto&&e.coverPhoto.url&&Object(o.jsx)("div",{className:"character-image",children:Object(o.jsx)("img",{src:"https://d1q33inlkclwle.cloudfront.net/".concat(e.coverPhoto.url)})})]})}))})]})}function M(){var e=E(),t=e.auth.user,n=e.router,c=n.page,a=(n.redirect,e.characters.createCharacter),s=e.uploads.createUpload,u=e.useForm,l=e.freeze,h=u(a),O=h.set,x=h.get,m=(h.status,h.submit),g=Object(r.useState)(!1),v=Object(i.a)(g,2),y=v[0],w=v[1],C=Object(r.useState)(!1),N=Object(i.a)(C,2),k=N[0],P=N[1],S=Object(r.useRef)(),D=Object(r.useRef)(),U=function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.current.click();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D.current.click();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l("Uploading Photo"),e.prev=1,e.next=4,s({filename:S.current.files[0].name,contentType:t.target.files[0].type});case 4:return r=e.sent,e.next=7,fetch(r.uploadUrl,{method:"put",headers:new Headers({"Content-Type":S.current.files[0].type}),body:S.current.files[0]});case 7:console.log(r),O("characterPicture")(r.id),w("https://d1q33inlkclwle.cloudfront.net/".concat(r.url)),n(),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),alert("error while uploading - please try again"),n();case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l("Uploading Photo"),e.prev=1,e.next=4,s({filename:D.current.files[0].name,contentType:t.target.files[0].type});case 4:return r=e.sent,console.log(r),e.next=8,fetch(r.uploadUrl,{method:"put",headers:new Headers({"Content-Type":D.current.files[0].type}),body:D.current.files[0]});case 8:O("actorPicture")(r.id),P("https://d1q33inlkclwle.cloudfront.net/".concat(r.url)),n(),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),alert("error while uploading - please try again"),n();case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),I=function(e){e.target.style.height="".concat(e.target.scrollHeight,"px")};return t&&c.startsWith("/Clergymen?page=create-character")?Object(o.jsxs)("main",{children:[Object(o.jsx)("div",{className:"text-center",children:Object(o.jsx)(j,{short:"Character",children:"Create Character"})}),Object(o.jsxs)("div",{className:"form",children:[Object(o.jsx)("header",{children:Object(o.jsx)(d,{children:"Add Character"})}),Object(o.jsxs)("section",{children:[Object(o.jsx)(p,{children:"Character Info"}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Character Name"}),Object(o.jsx)("input",{name:"characterName",value:x("characterName"),onChange:O("characterName")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Character Short Description"}),Object(o.jsx)("input",{name:"characterShortDescription",value:x("characterShortDescription"),onChange:O("characterShortDescription")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Character Long Description"}),Object(o.jsx)("textarea",{onFocus:I,onInput:I,name:"characterLongDescription",value:x("characterLongDescription"),onChange:O("characterLongDescription")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Character Picture"}),!y&&Object(o.jsx)("p",{onClick:U,children:"-- Upload Photo --"}),!!y&&Object(o.jsx)("img",{src:y}),Object(o.jsx)("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",hidden:!0,ref:S,onChange:A})]})]}),Object(o.jsxs)("section",{children:[Object(o.jsx)(p,{children:"Actor Info"}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Actor Name"}),Object(o.jsx)("input",{name:"actorName",value:x("actorName"),onChange:O("actorName")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Actor Short Description"}),Object(o.jsx)("input",{name:"actorShortDescription",value:x("actorShortDescription"),onChange:O("actorShortDescription")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Actor Long Description"}),Object(o.jsx)("textarea",{onFocus:I,onInput:I,name:"actorLongDescription",value:x("actorLongDescription"),onChange:O("actorLongDescription")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Actor Picture"}),!k&&Object(o.jsx)("p",{onClick:T,children:"-- Upload Photo --"}),!!k&&Object(o.jsx)("img",{src:k}),Object(o.jsx)("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",hidden:!0,ref:D,onChange:F})]})]}),Object(o.jsx)("button",{onClick:m,children:"Add Character"})]})]}):""}function V(){var e=E(),t=e.router.page,n=e.auth.user,c=e.episodes.createEpisode,a=e.uploads.createUpload,s=e.useForm,u=e.freeze,l=s((function(e){var t=e.releaseDate.split("-"),n=Object(i.a)(t,3),r=n[0],a=n[1],s=n[2],o=Object.assign(e,{episodeNumber:parseInt(e.episodeNumber),seasonNumber:parseInt(e.seasonNumber),releaseDate:new Date(r,a,s)});c(o)})),h=l.get,O=l.set,x=l.submit,m=Object(r.useState)(null),g=Object(i.a)(m,2),v=g[0],y=g[1],w=Object(r.useState)(null),C=Object(i.a)(w,2),N=C[0],k=C[1],P=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u("Uploading Photo"),e.prev=1,e.next=4,a({filename:D.current.files[0].name,contentType:t.target.files[0].type});case 4:return r=e.sent,e.next=7,fetch(r.uploadUrl,{method:"put",headers:new Headers({"Content-Type":D.current.files[0].type}),body:D.current.files[0]});case 7:O("coverPhoto")(r.id),y("https://d1q33inlkclwle.cloudfront.net/".concat(r.url)),n(),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),alert("error while uploading - please try again"),n();case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u("Uploading Podcast Audio - This May Take A Second!"),e.prev=1,e.next=4,a({filename:U.current.files[0].name,contentType:t.target.files[0].type});case 4:return r=e.sent,e.next=7,fetch(r.uploadUrl,{method:"put",headers:new Headers({"Content-Type":U.current.files[0].type}),body:U.current.files[0]});case 7:O("audioSource")(r.id),k("https://d1q33inlkclwle.cloudfront.net/".concat(r.url)),n(),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),alert("error while uploading - please try again"),n();case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),D=Object(r.useRef)(),U=Object(r.useRef)(),T=function(e){e.target.style.height="".concat(e.target.scrollHeight,"px")};return n?"/Clergymen?page=create-episode"!==t?"":Object(o.jsxs)("main",{children:[Object(o.jsx)("div",{className:"text-center",children:Object(o.jsx)(j,{short:"Episode",children:"Create Episode"})}),Object(o.jsxs)("div",{className:"form",children:[Object(o.jsx)("header",{children:Object(o.jsx)(d,{children:"Add Episode"})}),Object(o.jsxs)("section",{children:[Object(o.jsx)(p,{children:"Episode Info"}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Episode Title"}),Object(o.jsx)("input",{name:"title",value:h("title"),onChange:O("title")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Season Number"}),Object(o.jsx)("input",{name:"seasonNumber",type:"number",value:h("seasonNumber"),onChange:O("seasonNumber")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Episode Number"}),Object(o.jsx)("input",{name:"episodeNumber",type:"number",value:h("episodeNumber"),onChange:O("episodeNumber")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Short Description"}),Object(o.jsx)("input",{name:"shortDescription",value:h("shortDescription"),onChange:O("shortDescription")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Long Description"}),Object(o.jsx)("textarea",{onFocus:T,onInput:T,name:"longDescription",value:h("longDescription"),onChange:O("longDescription")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Release Date (doesn't have to be final!)"}),Object(o.jsx)("input",{name:"releaseDate",type:"date",value:h("releaseDate"),onChange:O("releaseDate")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Cover Photo"}),!h("coverPhoto")&&Object(o.jsx)("p",{onClick:function(){return D.current.click()},children:"-- Upload Photo --"}),!!h("coverPhoto")&&Object(o.jsx)("img",{src:v}),Object(o.jsx)("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",hidden:!0,ref:D,onChange:P})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Audio File (mp3)"}),!h("audioSource")&&Object(o.jsx)("p",{onClick:function(){return U.current.click()},children:"-- Upload Audio --"}),!!h("audioSource")&&Object(o.jsx)("audio",{src:N}),Object(o.jsx)("input",{type:"file",accept:"audio/mp3",hidden:!0,ref:U,onChange:S})]})]}),Object(o.jsx)("button",{onClick:x,children:"Add Character"})]})]}):""}function J(){var e=E(),t=e.auth.user,n=e.router.page,c=e.characters,a=c.characters,s=c.updateCharacter,u=e.uploads.createUpload,l=e.useForm,h=e.freeze,O=Object(r.useState)(null),x=Object(i.a)(O,2),m=x[0],g=x[1];Object(r.useEffect)((function(){!function(){var e=n.split("/")[2],t=a.filter((function(t){return t.id===e})),r=t.length?t[0]:null;g(r)}()}),[a,n]);var v=l((function(e){return s(m.id,e)})),y=v.set,w=v.submit,C=Object(r.useRef)(),N=Object(r.useRef)(),k=function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.current.click();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(f.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N.current.click();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h("Uploading Photo"),e.prev=1,e.next=4,u({filename:C.current.files[0].name,contentType:t.target.files[0].type});case 4:return r=e.sent,e.next=7,fetch(r.uploadUrl,{method:"put",headers:new Headers({"Content-Type":C.current.files[0].type}),body:C.current.files[0]});case 7:console.log(r),y("characterPicture")(r.id),g((function(e){return Object.assign(e,{characterPicture:{url:"https://d1q33inlkclwle.cloudfront.net/".concat(r.url)}})})),n(),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),alert("error while uploading - please try again"),n();case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h("Uploading Photo"),e.prev=1,e.next=4,u({filename:N.current.files[0].name,contentType:t.target.files[0].type});case 4:return r=e.sent,console.log(r),e.next=8,fetch(r.uploadUrl,{method:"put",headers:new Headers({"Content-Type":N.current.files[0].type}),body:N.current.files[0]});case 8:y("actorPicture")(r.id),g((function(e){return Object.assign(e,{actorPicture:{url:"https://d1q33inlkclwle.cloudfront.net/".concat(r.url)}})})),n(),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),alert("error while uploading - please try again"),n();case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return t?"/Clergymen?page=edit-about"!==n?"":Object(o.jsxs)("main",{children:[Object(o.jsx)("div",{className:"text-center",children:Object(o.jsxs)(j,{short:"Edit",children:["Edit ",m.characterName]})}),Object(o.jsxs)("div",{className:"form",children:[Object(o.jsx)("header",{children:Object(o.jsx)(d,{children:"Add Character"})}),Object(o.jsxs)("section",{children:[Object(o.jsx)(p,{children:"Character Info"}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Character Name"}),Object(o.jsx)("input",{name:"characterName",defaultValue:m.characterName,onChange:y("characterName")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Character Short Description"}),Object(o.jsx)("input",{name:"characterShortDescription",defaultValue:m.characterShortDescription,onChange:y("characterShortDescription")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Character Long Description"}),Object(o.jsx)("textarea",{name:"characterLongDescription",defaultValue:m.characterLongDescription,onChange:y("characterLongDescription")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Character Picture"}),!m.characterPicture&&Object(o.jsx)("p",{onClick:k,children:"-- Upload Photo --"}),!!m.characterPicture&&Object(o.jsx)("div",{className:"circle-image-container",children:Object(o.jsx)("img",{onClick:k,src:"https://d1q33inlkclwle.cloudfront.net/".concat(m.characterPicture.url)})}),Object(o.jsx)("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",hidden:!0,ref:C,onChange:S})]})]}),Object(o.jsxs)("section",{children:[Object(o.jsx)(p,{children:"Actor Info"}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Actor Name"}),Object(o.jsx)("input",{name:"actorName",defaultValue:m.actorName,onChange:y("actorName")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Actor Short Description"}),Object(o.jsx)("input",{name:"actorShortDescription",defaultValue:m.actorShortDescription,onChange:y("actorShortDescription")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Actor Long Description"}),Object(o.jsx)("textarea",{name:"actorLongDescription",defaultValue:m.actorLongDescription,onChange:y("actorLongDescription")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Actor Picture"}),!m.actorPicture&&Object(o.jsx)("p",{onClick:P,children:"-- Upload Photo --"}),!!m.actorPicture&&Object(o.jsx)("div",{className:"circle-image-container",children:Object(o.jsx)("img",{onClick:P,src:"https://d1q33inlkclwle.cloudfront.net/".concat(m.actorPicture.url)})}),Object(o.jsx)("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",hidden:!0,ref:N,onChange:D})]})]}),Object(o.jsx)("button",{onClick:w,children:"Submit Changes"})]})]}):""}var W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"".concat(e.getFullYear(),"-").concat(("00"+e.getMonth()).slice(-2),"-").concat(("00"+e.getDate()).slice(-2))};function _(){var e=E(),t=e.auth.user,n=e.router.page,c=e.uploads.createUpload,a=e.episodes,s=a.episodes,u=a.updateEpisode,l=e.useForm,h=e.freeze,O=Object(r.useState)(null),x=Object(i.a)(O,2),m=x[0],g=x[1],v=l((function(e){return u(m.id,e)})),y=v.get,w=v.set,C=v.submit,N=v.setAll;Object(r.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("id"),t=s.filter((function(t){return t.id===e}));g(t.length?t[0]:null)}),[s,n]),Object(r.useEffect)((function(){m&&(N(m),D("https://d1q33inlkclwle.cloudfront.net/".concat(m.coverPhoto.url)),F("https://d1q33inlkclwle.cloudfront.net/".concat(m.audioSource.url)))}),[m]);var k=Object(r.useState)(null),P=Object(i.a)(k,2),S=P[0],D=P[1],U=Object(r.useState)(null),T=Object(i.a)(U,2),A=T[0],F=T[1],I=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h("Uploading Photo"),e.prev=1,e.next=4,c({filename:q.current.files[0].name,contentType:t.target.files[0].type});case 4:return r=e.sent,e.next=7,fetch(r.uploadUrl,{method:"put",headers:new Headers({"Content-Type":q.current.files[0].type}),body:q.current.files[0]});case 7:w("coverPhoto")(r.id),D("https://d1q33inlkclwle.cloudfront.net/".concat(r.url)),n(),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),alert("error while uploading - please try again"),n();case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h("Uploading Podcast Audio - This May Take A Second!"),e.prev=1,e.next=4,c({filename:z.current.files[0].name,contentType:t.target.files[0].type});case 4:return r=e.sent,e.next=7,fetch(r.uploadUrl,{method:"put",headers:new Headers({"Content-Type":z.current.files[0].type}),body:z.current.files[0]});case 7:w("audioSource")(r.id),F("https://d1q33inlkclwle.cloudfront.net/".concat(r.url)),n(),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0),alert("error while uploading - please try again"),n();case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),q=Object(r.useRef)(),z=Object(r.useRef)(),R=function(e){e.target.style.height="".concat(e.target.scrollHeight,"px")};return t&&n.startsWith("/Clergymen?page=edit-episode?id=")&&m?Object(o.jsxs)("main",{children:[Object(o.jsx)("div",{className:"text-center",children:Object(o.jsx)(j,{short:"Episode",children:"Create Episode"})}),Object(o.jsxs)("div",{className:"form",children:[Object(o.jsx)("header",{children:Object(o.jsx)(d,{children:"Add Episode"})}),Object(o.jsxs)("section",{children:[Object(o.jsx)(p,{children:"Episode Info"}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Episode Title"}),Object(o.jsx)("input",{name:"title",value:y("title"),onChange:w("title")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Season Number"}),Object(o.jsx)("input",{name:"seasonNumber",type:"number",value:y("seasonNumber"),onChange:w("seasonNumber")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Episode Number"}),Object(o.jsx)("input",{name:"episodeNumber",type:"number",value:y("episodeNumber"),onChange:w("episodeNumber")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Short Description"}),Object(o.jsx)("input",{name:"shortDescription",value:y("shortDescription"),onChange:w("shortDescription")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Long Description"}),Object(o.jsx)("textarea",{onFocus:R,onInput:R,name:"longDescription",value:y("longDescription"),onChange:w("longDescription")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Release Date (doesn't have to be final!)"}),Object(o.jsx)("input",{name:"releaseDate",type:"date",value:W(new Date(y("releaseDate"))),onChange:w("releaseDate")})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Cover Photo"}),!y("coverPhoto")&&Object(o.jsx)("p",{onClick:function(){return q.current.click()},children:"-- Upload Photo --"}),!!y("coverPhoto")&&Object(o.jsx)("img",{src:S}),Object(o.jsx)("input",{type:"file",accept:"image/png, image/jpg, image/jpeg",hidden:!0,ref:q,onChange:I})]}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("label",{children:"Audio File (mp3)"}),!A&&Object(o.jsx)("p",{onClick:function(){return z.current.click()},children:"-- Upload Audio --"}),A&&Object(o.jsx)("audio",{src:A}),Object(o.jsx)("input",{type:"file",accept:"audio/mp3",hidden:!0,ref:z,onChange:L})]})]}),Object(o.jsx)("button",{onClick:C,children:"Add Character"})]})]}):""}function Y(e){var t=e.onChange,n=e.defaultValue,c=void 0===n?[]:n,a=Object(r.useState)(c),s=Object(i.a)(a,2),u=s[0],l=s[1],j=function(e){return function(n){var r=Object(L.a)(u);r[e]=n.target.value,l(r),t(r)}},d=function(e){return function(){var n=Object(L.a)(u);n.splice(e,1),l(n),t(n)}},p=function(e){e.target.style.height="".concat(e.target.scrollHeight,"px")};return Object(o.jsxs)(o.Fragment,{children:[u.map((function(e,t){return Object(o.jsxs)("section",{children:[Object(o.jsx)("textarea",{defaultValue:e,onChange:j(t),onFocus:p}),Object(o.jsx)("button",{onClick:d(t),children:"Remove Section"})]})})),Object(o.jsx)("section",{children:Object(o.jsx)("button",{onClick:function(){var e=[].concat(Object(L.a)(u),[""]);l(e),t(e)},children:"Add Section"})})]})}function B(){var e,t=E(),n=t.router.page,c=t.auth.user,a=t.channel,s=a.channelInfo,u=a.updateChannelInfo,l=t.uploads.createUpload,d=t.useForm,p=t.freeze,h=Object(r.useState)(!1),O=Object(i.a)(h,2),x=O[0],m=O[1],g=d((function(e){u(e),m(!1)})),v=g.set,y=(g.get,g.submit),w=Object(r.useRef)(),C=Object(r.useState)(null),N=Object(i.a)(C,2),k=N[0],P=N[1];Object(r.useEffect)((function(){var e;s&&s.image&&s.image.url&&P("https://d1q33inlkclwle.cloudfront.net/".concat(null===s||void 0===s||null===(e=s.image)||void 0===e?void 0:e.url))}),[s]);var S=function(){return w.current.click()},D=function(){var e=Object(f.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p("Uploading Photo"),e.prev=1,e.next=4,l({filename:w.current.files[0].name,contentType:t.target.files[0].type});case 4:return r=e.sent,e.next=7,fetch(r.uploadUrl,{method:"put",headers:new Headers({"Content-Type":w.current.files[0].type}),body:w.current.files[0]});case 7:console.log(r),v("image")(r.id),P("https://d1q33inlkclwle.cloudfront.net/".concat(r.url)),n(),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),alert("error while uploading - please try again"),n();case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return["/Clergymen?page=admin","/Clergymen?page=characters","/Clergymen?page=contact","/Clergymen?page=create-character","/Clergymen?page=create-episode","/Clergymen?page=edit-about","/Clergymen?page=episodes"].find((function(e){return e===n}))?null:s?x?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"text-center",children:Object(o.jsx)(j,{children:"Edit Channel Info"})}),Object(o.jsx)("main",{onSubmit:function(e){return e.preventDefault()},className:"about-container",children:Object(o.jsxs)("div",{className:"about",children:[Object(o.jsxs)("section",{className:"about-input",children:[Object(o.jsx)("p",{children:"Title"}),Object(o.jsx)("input",{onChange:v("title"),defaultValue:s.title})]}),Object(o.jsxs)("section",{className:"about-input",children:[Object(o.jsx)("p",{children:"Author"}),Object(o.jsx)("input",{onChange:v("author"),defaultValue:s.author})]}),Object(o.jsxs)("section",{className:"about-input",children:[Object(o.jsx)("p",{children:"Copyright"}),Object(o.jsx)("input",{onChange:v("copyright"),defaultValue:s.copyright})]}),Object(o.jsxs)("section",{className:"about-input",children:[Object(o.jsx)("p",{children:"Category"}),Object(o.jsx)("input",{onChange:v("category"),defaultValue:s.category})]}),Object(o.jsxs)("section",{className:"about-input",children:[Object(o.jsx)("p",{children:"Subcategory"}),Object(o.jsx)("input",{onChange:v("subcategory"),defaultValue:s.subcategory})]}),Object(o.jsxs)("section",{className:"about-input",children:[Object(o.jsx)("p",{children:"Channel Description"}),Object(o.jsx)("div",{className:"string-input-array",children:Object(o.jsx)(Y,{onChange:v("description"),defaultValue:s.description})})]}),Object(o.jsxs)("section",{className:"about-input",children:[Object(o.jsx)("p",{children:"Image"}),!k&&Object(o.jsx)("p",{onClick:S,children:"-- Upload Photo --"}),!!k&&Object(o.jsx)("img",{onClick:S,src:k}),Object(o.jsx)("input",{ref:w,onChange:D,type:"file",hidden:!0,accept:".jpg, .jpeg, .png"})]}),Object(o.jsx)("section",{className:"about-input",children:Object(o.jsx)("button",{onClick:y,children:"Submit Changes"})})]})})]}):Object(o.jsx)("main",{className:"about-container",children:Object(o.jsxs)("div",{className:"about",children:[Object(o.jsxs)("section",{className:"about-section",children:[Object(o.jsx)(j,{children:s.title}),Object(o.jsx)("div",{className:"text-center",children:!!c&&Object(o.jsx)("a",{onClick:function(){m(!0)},children:"Edit"})}),Object(o.jsx)("div",{className:"circle-image-container",children:Object(o.jsx)("img",{src:"https://d1q33inlkclwle.cloudfront.net/".concat(null===s||void 0===s||null===(e=s.image)||void 0===e?void 0:e.url)})})]}),Object(o.jsx)("section",{className:"about-section",children:Array.isArray(s.description)&&s.description.map((function(e){return Object(o.jsx)("p",{className:"about-text",children:e})}))})]})}):""}function G(){var e=E(),t=e.router.page,n=e.episodes.episodes,c=e.setPodcast,a=Object(r.useState)(null),s=Object(i.a)(a,2),u=s[0],l=s[1];return Object(r.useEffect)((function(){if(t.startsWith("/Clergymen?page=episodes&id=")){var e=new URLSearchParams(window.location.search).get("id"),r=n.filter((function(t){return t.id===e}));console.log(e,r),l(r.length?r[0]:null)}}),[n,t]),Object(r.useEffect)((function(){console.log("on episode found effect",u),null!==u&&c(u)()}),[u]),t.startsWith("/Clergymen?page=episodes&id=")&&u?Object(o.jsx)("div",{}):""}function K(){var e=E(),t=e.router.page,n=e.auth.isAuthenticated,r=e.contact,c=r.messages,a=(r.getMessages,r.sendMessage),s=e.useForm,u=Object(O.useState)(null),l=Object(i.a)(u,2),d=l[0],h=l[1],b=s((function(e){return e.name?e.to?e.message?e.contact?void a(e):h("Please enter your contact information!"):h("Please enter a message to send us!"):h("Please select a someone to message!"):h("Please enter your name!")})),f=b.set,x=b.get,m=b.submit;return"/Clergymen?page=contact"!==t?"":n?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"text-center",children:Object(o.jsx)(j,{children:"Messages:"})}),Object(o.jsx)("main",{children:c.map((function(e){return Object(o.jsx)("div",{children:JSON.stringify(e)})}))})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"text-center",children:Object(o.jsx)(j,{children:"Contact The Clergymen:"})}),Object(o.jsxs)("main",{children:[d&&Object(o.jsx)("div",{className:"error",children:d}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)(p,{children:"Your Name:"}),Object(o.jsx)("input",{name:"name",value:x("name"),onChange:f("name")})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)(p,{children:"To:"}),Object(o.jsx)("input",{name:"to",value:x("to"),onChange:f("to")})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)(p,{children:"Message:"}),Object(o.jsx)("textarea",{name:"message",value:x("message"),onChange:function(e){return f("message")({target:{value:e.target.innerText}})}})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)(p,{children:"Your Contact:"}),Object(o.jsx)("input",{name:"contact",value:x("contact"),onChange:f("contact")})]}),Object(o.jsx)("div",{className:"form-group",children:Object(o.jsx)("button",{onClick:m,children:"Send Message"})})]})]})}var Q=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(F,{}),Object(o.jsx)(I,{}),Object(o.jsx)(B,{}),Object(o.jsx)(z,{}),Object(o.jsx)(M,{}),Object(o.jsx)(J,{}),Object(o.jsx)(H,{}),Object(o.jsx)(G,{}),Object(o.jsx)(_,{}),Object(o.jsx)(V,{}),Object(o.jsx)(K,{})]})};s.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(T,{children:Object(o.jsx)(Q,{})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.cba8dedb.chunk.js.map